<!DOCTYPE html>
<html lang="zh-Hant" data-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>æ±äº¬å…­æ—¥è‡ªç”±è¡Œï¼ˆ2025/11/15â€“11/21ï¼‰æ•´åˆæŒ‡å—</title>
  <style>
    :root {
      color-scheme: dark light;
      --bg-dark: #0b0c10;
      --bg-light: #f9fafc;
      --text-dark: #e6edf3;
      --text-light: #1a1e2b;
      --muted-dark: #8892b0;
      --muted-light: #5c6478;
      --card-dark: #111317;
      --card-light: #ffffff;
      --border-dark: #1f2330;
      --border-light: #dbe2ee;
      --table-header-dark: #151925;
      --table-header-light: #eef2fb;
      --accent: #64ffda;
      --accent-strong: #4ea1ff;
      --shadow-dark: 0 14px 32px rgba(10, 15, 38, 0.35);
      --shadow-light: 0 14px 32px rgba(15, 23, 42, 0.16);
      --transition-speed: 0.3s;
      --page-bg: var(--bg-dark);
      --page-text: var(--text-dark);
      --muted-text: var(--muted-dark);
      --card-bg: var(--card-dark);
      --border-color: var(--border-dark);
      --table-header: var(--table-header-dark);
      --card-shadow: var(--shadow-dark);
    }

    :root[data-theme="light"] {
      --page-bg: var(--bg-light);
      --page-text: var(--text-light);
      --muted-text: var(--muted-light);
      --card-bg: var(--card-light);
      --border-color: var(--border-light);
      --table-header: var(--table-header-light);
      --card-shadow: var(--shadow-light);
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", sans-serif;
      line-height: 1.65;
      background: var(--page-bg);
      color: var(--page-text);
      transition: background var(--transition-speed) ease, color var(--transition-speed) ease;
    }

    a {
      color: var(--accent-strong);
      text-decoration: none;
    }

    a:hover,
    a:focus {
      opacity: 0.9;
      text-decoration: underline;
    }

    .wrap {
      max-width: 1100px;
      margin: 0 auto;
      padding: 32px 24px 48px;
    }

    header {
      display: grid;
      gap: 16px;
      padding-bottom: 24px;
      margin-bottom: 32px;
      border-bottom: 1px solid var(--border-color);
    }

    .header-top {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 16px;
      align-items: center;
    }

    .header-actions {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 8px;
    }

    .exchange-rate {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid var(--border-color);
      background: var(--card-bg);
      color: var(--muted-text);
      font-size: 14px;
      box-shadow: var(--card-shadow);
      min-width: max-content;
    }

    .exchange-rate strong {
      color: var(--accent-strong);
      font-size: 15px;
    }

    .exchange-rate .rate-updated {
      font-size: 12px;
      color: var(--muted-text);
    }

    h1 {
      font-size: clamp(26px, 4vw, 40px);
      line-height: 1.2;
      margin: 0;
    }

    .meta {
      color: var(--muted-text);
      font-size: 14px;
    }

    .cta-group {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .cta {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--accent);
      color: #012622;
      padding: 10px 16px;
      border-radius: 12px;
      font-weight: 600;
      transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
      box-shadow: var(--card-shadow);
    }

    .cta:hover,
    .cta:focus {
      transform: translateY(-2px);
      box-shadow: 0 12px 24px rgba(100, 255, 218, 0.35);
    }

    .nav {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      font-size: 15px;
    }

    .nav a {
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid transparent;
      transition: background var(--transition-speed) ease, border var(--transition-speed) ease;
      color: var(--page-text);
    }

    .nav a:hover,
    .nav a:focus {
      border-color: var(--border-color);
      background: var(--card-bg);
      text-decoration: none;
    }

    .card {
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 16px;
      padding: 18px 20px;
      margin: 16px 0;
      box-shadow: var(--card-shadow);
      transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 16px 30px rgba(76, 95, 255, 0.15);
    }

    h2 {
      margin: 48px 0 16px;
      font-size: clamp(22px, 3vw, 30px);
    }

    h3 {
      margin: 20px 0 8px;
      font-size: clamp(18px, 2.6vw, 24px);
    }

    .day {
      border-left: 3px solid var(--accent-strong);
      padding-left: 16px;
      margin: 28px 0;
    }

    .note {
      font-size: 14px;
      color: var(--muted-text);
      margin-top: 12px;
    }

    .note strong {
      color: var(--page-text);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 12px 0 24px;
      background: var(--card-bg);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: var(--card-shadow);
      border: 1px solid var(--border-color);
    }

    th,
    td {
      border-bottom: 1px solid var(--border-color);
      padding: 14px 16px;
      vertical-align: top;
      text-align: left;
      transition: background var(--transition-speed) ease;
    }

    thead th {
      background: var(--table-header);
      color: var(--page-text);
      font-weight: 600;
      font-size: 15px;
    }

    tbody tr:hover td {
      background: rgba(78, 161, 255, 0.08);
    }

    .badge {
      display: inline-block;
      padding: 2px 10px;
      border-radius: 999px;
      background: rgba(100, 255, 218, 0.14);
      color: var(--accent);
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.02em;
      text-transform: uppercase;
    }

    .theme-toggle {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid var(--border-color);
      background: var(--card-bg);
      color: var(--page-text);
      font-size: 14px;
      cursor: pointer;
      transition: background var(--transition-speed) ease, transform var(--transition-speed) ease;
    }

    .theme-toggle:hover,
    .theme-toggle:focus {
      transform: translateY(-2px);
      background: rgba(78, 161, 255, 0.12);
    }

    .section-intro {
      display: grid;
      gap: 12px;
      max-width: 760px;
      color: var(--muted-text);
      font-size: 15px;
    }

    .grid-2 {
      display: grid;
      gap: 18px;
    }

    .chip-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 12px 0 4px;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid var(--border-color);
      background: rgba(78, 161, 255, 0.1);
      color: var(--page-text);
      font-size: 13px;
      letter-spacing: 0.02em;
    }

    .chip span {
      color: var(--muted-text);
      font-size: 12px;
    }

    .schedule-grid {
      display: grid;
      gap: 28px;
    }

    .timeline {
      list-style: none;
      padding: 0;
      margin: 0;
      display: grid;
      gap: 12px;
    }

    .timeline-item {
      display: grid;
      grid-template-columns: minmax(80px, 100px) 1fr;
      gap: 12px;
      align-items: start;
    }

    .timeline-time {
      font-variant-numeric: tabular-nums;
      font-weight: 600;
      color: var(--accent-strong);
    }

    .timeline-content {
      color: var(--page-text);
    }

    .timeline-content strong {
      color: var(--page-text);
    }

    .note-list {
      margin: 0;
      padding-left: 18px;
      color: var(--muted-text);
    }

    .two-column-grid {
      display: grid;
      gap: 18px;
    }

    .two-column-grid .card {
      margin: 0;
    }

    @media (min-width: 768px) {
      header {
        grid-template-columns: 1fr;
      }

      .grid-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (min-width: 768px) {
      .two-column-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 640px) {
      .wrap {
        padding: 24px 18px 40px;
      }

      .header-actions {
        align-items: flex-start;
      }

      table,
      th,
      td {
        font-size: 14px;
      }
    }

    @media (max-width: 640px) {
      .timeline-item {
        grid-template-columns: minmax(0, 1fr);
      }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="header-top">
        <h1>æ±äº¬å…­æ—¥è‡ªç”±è¡Œï¼ˆ2025/11/15â€“11/21ï¼‰â€” èˆªç­ï¼‹é£¯åº—å‹•ç·šæ•´åˆ</h1>
        <div class="header-actions">
          <div id="exchangeRate" class="exchange-rate" aria-live="polite">åŒ¯ç‡è¼‰å…¥ä¸­â€¦</div>
          <button id="themeToggle" class="theme-toggle" type="button" aria-label="åˆ‡æ›é»‘ç™½èƒŒæ™¯">
            <span aria-hidden="true">ğŸŒ“</span>
            <span class="toggle-text">é»‘åº•</span>
          </button>
        </div>
      </div>
      <div class="meta">
        å»ç¨‹ MM626 æ¡ƒåœ’ â†’ æˆç”°ï¼ˆ11/15 14:55 æŠµé”ï¼‰ï½œå›ç¨‹ CI101 æˆç”° â†’ æ¡ƒåœ’ï¼ˆ11/21 14:35 èµ·é£›ï¼‰<br>
        ä½å®¿ï¼šæŠ¼ä¸Š 3 æ™šï¼ˆRichmond Hotel Premier Tokyo Scholeï¼‰â†’ æ–°å®¿ 3 æ™šï¼ˆJR Kyushu Hotel Blossom Shinjukuï¼‰
      </div>
      <div class="cta-group">
        <a class="cta" href="tokyo_itinerary_per_day.kml" download>ä¸‹è¼‰ KMLï¼ˆMy Maps åˆ†æ—¥ï¼‰</a>
        <a class="cta" href="tokyo_itinerary_places_enhanced.csv" download>ä¸‹è¼‰ CSVï¼ˆè‡ªè¨‚é¡è‰²ï¼‰</a>
      </div>
      <nav class="nav" aria-label="é é¢å°è¦½">
        <a href="#overview">èˆªç­ï¼†ä½å®¿</a>
        <a href="#tickets">ç¥¨åˆ¸å·¥å…·</a>
        <a href="#schedule">æ¯æ—¥è¡Œç¨‹</a>
        <a href="#food">é¤é£²åå–®</a>
        <a href="#notes">å‚™è¨»èˆ‡é›¨å‚™</a>
      </nav>
    </header>

    <section id="overview">
      <h2>âœˆï¸ èˆªç­èˆ‡ä½å®¿é‡é»</h2>
      <div class="two-column-grid">
        <div class="card">
          <h3>èˆªç­è³‡è¨Š</h3>
          <ul class="timeline">
            <li class="timeline-item"><span class="timeline-time">11/15 14:55</span><div class="timeline-content">MM626 æ¡ƒåœ’ â†’ æˆç”° T1 æŠµé”ï¼ˆå»ºè­°é ç•™ 45â€“60 åˆ†é˜å…¥å¢ƒï¼‰</div></li>
            <li class="timeline-item"><span class="timeline-time">11/21 14:35</span><div class="timeline-content">CI101 æˆç”° T2 èµ·é£›ï¼ˆè«‹æ–¼èµ·é£›å‰ 2â€“3 å°æ™‚æŠµé”æ©Ÿå ´ï¼‰</div></li>
          </ul>
          <p class="note">æ­ä¹˜åœ‹éš›ç·šè¨˜å¾—é å…ˆå®Œæˆç·šä¸Šå€¼æ©Ÿèˆ‡æ‰˜é‹éœ€æ±‚ï¼Œç¯€çœæ©Ÿå ´ç­‰å¾…æ™‚é–“ã€‚</p>
        </div>
        <div class="card">
          <h3>ä½å®¿å®‰æ’</h3>
          <p><strong>11/15â€“11/17ï¼ˆæŠ¼ä¸Š 3 æ™šï¼‰</strong><br>Richmond Hotel Premier Tokyo Scholeï¼ˆæ™´ç©ºå¡”æ—ï¼‰<br><span class="note">Check-in 14:00ï½œCheck-out 11:00ï½œä¸å«æ—©é¤</span></p>
          <p><strong>11/18â€“11/20ï¼ˆæ–°å®¿ 3 æ™šï¼‰</strong><br>JR Kyushu Hotel Blossom Shinjukuï¼ˆå—å£ï¼Busta è¿‘ï¼‰<br><span class="note">Check-in 14:00ï½œCheck-out 11:00ï½œä¸å«æ—©é¤</span></p>
        </div>
      </div>
    </section>

    <section id="tickets">
      <h2>ğŸ§­ ç¥¨åˆ¸èˆ‡å·¥å…·</h2>
      <div class="card">
        <div class="chip-group">
          <span class="chip">Suica / PASMO<span>å…¨ç¨‹ä½¿ç”¨</span></span>
          <span class="chip">Tokyo Subway 72h<span>Day 1â€“3</span></span>
          <span class="chip">å¯Œå£«å›éŠè™Ÿ / é«˜é€Ÿå·´å£«<span>Day 4 æ²³å£æ¹–</span></span>
        </div>
        <p class="note">JR Pass ä¸åˆ’ç®—ï¼Œå»ºè­°ä»¥ IC å¡ï¼‹å–®ç¨‹ç¥¨åˆ¸æ­é…å³å¯å®Œæˆéƒ½å…§ã€éŒå€‰èˆ‡æ²³å£æ¹–è¡Œç¨‹ã€‚</p>
      </div>
    </section>

    <section id="schedule">
      <h2>ğŸ—“ æ¯æ—¥è¡Œç¨‹</h2>
      <div class="schedule-grid">
        <div class="day">
          <h3>Day 1ï½œ11/15ï¼ˆå…­ï¼‰æˆç”° â†’ æŠ¼ä¸Šå…¥ä½ â†’ æ™´ç©ºå¡”å¤œæ™¯</h3>
          <div class="card">
            <ul class="timeline">
              <li class="timeline-item"><span class="timeline-time">14:55</span><div class="timeline-content">æŠµé”æˆç”° T1 â†’ å…¥å¢ƒï¼é ˜è¡Œæï¼ˆ45â€“60 åˆ†ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">~16:10</span><div class="timeline-content"><strong>äº¤é€šï¼š</strong> äº¬æˆ Access Express ç›´é”æŠ¼ä¸Šç´„ 60â€“70 åˆ†ï¼Œæˆ– Skyliner è½‰ä¹˜åœ°éµ</div></li>
              <li class="timeline-item"><span class="timeline-time">~17:10</span><div class="timeline-content">æŠ¼ä¸Šç«™æ­¥è¡Œ 1â€“3 åˆ†é˜ â†’ é£¯åº— Check-inï¼ˆ14:00 èµ·ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">17:30â€“19:00</span><div class="timeline-content"><strong>æ±äº¬æ™´ç©ºå¡”ï¼š</strong> å¤•é™½éŠœæ¥å¤œæ™¯ï¼›Solamachi æ™šé¤ï¼ˆå…­å˜èˆï¼é°»é­šï¼å®šé£Ÿï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">20:00</span><div class="timeline-content">éš…ç”°å…¬åœ’æ•£æ­¥æˆ–å›é£¯åº—ä¼‘æ¯</div></li>
            </ul>
          </div>
        </div>

        <div class="day">
          <h3>Day 2ï½œ11/16ï¼ˆæ—¥ï¼‰ä¸Šé‡æ–‡åŒ– â†’ ç§‹è‘‰åŸ â†’ éŠ€åº§å¤œæ™¯ï¼ˆæŠ¼ä¸Šå¾€è¿”ï¼‰</h3>
          <div class="card">
            <ul class="timeline">
              <li class="timeline-item"><span class="timeline-time">08:30</span><div class="timeline-content">æ—©é¤ï¼šæŠ¼ä¸Šå‘¨é‚Šå’–å•¡ï¼ä¾¿åˆ©å•†åº—</div></li>
              <li class="timeline-item"><span class="timeline-time">09:15</span><div class="timeline-content">æŠ¼ä¸Š â†’ ä¸Šé‡ï¼ˆåœ°éµï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">09:45â€“12:00</span><div class="timeline-content">ä¸Šé‡æ©è³œå…¬åœ’ï¼‹æ“‡ä¸€ï¼šåœ‹ç«‹åšç‰©é¤¨ï¼ç§‘å­¸åšç‰©é¤¨</div></li>
              <li class="timeline-item"><span class="timeline-time">12:00â€“13:00</span><div class="timeline-content">é˜¿ç¾æ©«ä¸åˆé¤ï¼ˆä¸¼é£¯ï¼é°»é­šï¼è±¬æ’ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">13:30</span><div class="timeline-content">ä¸Šé‡ â†’ ç§‹è‘‰åŸï¼ˆJR 1 ç«™æˆ–æ­¥è¡Œï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">13:45â€“16:30</span><div class="timeline-content">ç„¡ç·šé›»æœƒé¤¨ã€æ‰­è›‹é¤¨ã€MANDARAKE æŒ–å¯¶</div></li>
              <li class="timeline-item"><span class="timeline-time">16:30</span><div class="timeline-content">ç§‹è‘‰åŸ â†’ éŠ€åº§ï¼ˆæ—¥æ¯”è°·ç·šç›´é”ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">17:00â€“19:00</span><div class="timeline-content">éŠ€åº§æ•£æ­¥ï¼ˆä¸­å¤®é€šã€GINZA SIX å±‹é ‚ï¼‰ï¼‹æ™šé¤ï¼ˆå£½å¸å§ï¼å±…é…’å±‹ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">19:30</span><div class="timeline-content">éŠ€åº§ â†’ æŠ¼ä¸Šï¼ˆåœ°éµ 20â€“30 åˆ†ï¼‰</div></li>
            </ul>
          </div>
        </div>

        <div class="day">
          <h3>Day 3ï½œ11/17ï¼ˆä¸€ï¼‰éŒå€‰ä¸€æ—¥ â†’ å‚æ™šè‡³æ–°å®¿</h3>
          <div class="card">
            <ul class="timeline">
              <li class="timeline-item"><span class="timeline-time">07:30</span><div class="timeline-content">å»ºè­°æ—©å‡ºç™¼ï¼›å¤§ä»¶è¡Œæå¯„æ”¾æŠ¼ä¸Šæˆ–å®…é…åˆ°æ–°å®¿</div></li>
              <li class="timeline-item"><span class="timeline-time">08:00</span><div class="timeline-content">æŠ¼ä¸Š â†’ æ–°å®¿ â†’ JR æ¹˜å—æ–°å®¿ç·šç›´é”éŒå€‰ï¼ˆç´„ 60 åˆ†ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">09:30â€“11:30</span><div class="timeline-content">é¶´å²¡å…«å¹¡å®®ï¼‹å°ç”ºé€šæ•£æ­¥</div></li>
              <li class="timeline-item"><span class="timeline-time">12:00â€“13:00</span><div class="timeline-content">åˆé¤ï¼šé‡œé£¯ï¼è•éº¥ï¼æµ·é‚Šå’–å•¡</div></li>
              <li class="timeline-item"><span class="timeline-time">13:15â€“15:30</span><div class="timeline-content">é•·è°·å¯º â†’ éŒå€‰å¤§ä½›ï¼ˆé«˜å¾·é™¢ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">å‚™é¸ 15:45â€“16:30</span><div class="timeline-content">æ±Ÿä¹‹é›»è‡³éŒå€‰é«˜æ ¡å‰å¹³äº¤é“æ‹æµ·æ™¯</div></li>
              <li class="timeline-item"><span class="timeline-time">17:30â€“18:30</span><div class="timeline-content">å›æ±äº¬ â†’ å…¥ä½ JR Kyushu Hotel Blossom Shinjuku</div></li>
              <li class="timeline-item"><span class="timeline-time">æ™šé–“</span><div class="timeline-content">æ€å‡ºæ©«ä¸ç‡’é³¥ï¼æ‹‰éºµï¼ç™¾è²¨ B1 å¤–å¸¶</div></li>
            </ul>
          </div>
        </div>

        <div class="day">
          <h3>Day 4ï½œ11/18ï¼ˆäºŒï¼‰å¯Œå£«å±±ãƒ»æ²³å£æ¹–ä¸€æ—¥ï¼ˆæ–°å®¿å‡ºç™¼ï¼‰</h3>
          <div class="card">
            <ul class="timeline">
              <li class="timeline-item"><span class="timeline-time">07:30</span><div class="timeline-content">æ—©é¤å¾Œå‰å¾€æ–°å®¿å—å£ Busta</div></li>
              <li class="timeline-item"><span class="timeline-time">08:00</span><div class="timeline-content">é«˜é€Ÿå·´å£«è‡³æ²³å£æ¹–ï¼ˆç´„ 1h45ï¼‰æˆ– JR å¯Œå£«å›éŠè™Ÿï¼ˆç´„ 2h05ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">10:00â€“12:00</span><div class="timeline-content">å¤©ä¸Šå±±çºœè»Š â†’ å±±é ‚å±•æœ›</div></li>
              <li class="timeline-item"><span class="timeline-time">12:10â€“13:00</span><div class="timeline-content">åˆé¤ï¼šã»ã†ã¨ã†ä¸å‹•ï¼ˆå±±æ¢¨åç‰©ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">13:20â€“14:20</span><div class="timeline-content">å¤§çŸ³å…¬åœ’è³æ™¯</div></li>
              <li class="timeline-item"><span class="timeline-time">14:40â€“15:40</span><div class="timeline-content">æ–°å€‰å¯Œå£«æ·ºé–“ç¥ç¤¾ï¼ˆå¿ éˆå¡”ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">16:30â€“18:30</span><div class="timeline-content">è¿”å›æ–°å®¿ï¼›æ™šé¤å»ºè­°æ‹‰éºµï¼ç‡’è‚‰</div></li>
            </ul>
          </div>
        </div>

        <div class="day">
          <h3>Day 5ï½œ11/19ï¼ˆä¸‰ï¼‰è¡¨åƒé“ â†’ è£åŸå®¿ â†’ ä¸‹åŒ—æ¾¤</h3>
          <div class="card">
            <ul class="timeline">
              <li class="timeline-item"><span class="timeline-time">09:30</span><div class="timeline-content">æ–°å®¿ â†’ è¡¨åƒé“ï¼ˆåœ°éµï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">10:00â€“11:00</span><div class="timeline-content">è¡¨åƒé“å»ºç¯‰æ•£æ­¥ï¼ˆè¡¨åƒé“ä¹‹ä¸˜ã€Pradaã€Diorï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">11:00â€“12:00</span><div class="timeline-content">å’–å•¡å·¡ç¦®ï¼šBlue Bottle / Koffee Mameya</div></li>
              <li class="timeline-item"><span class="timeline-time">12:10â€“13:10</span><div class="timeline-content">åˆé¤ï¼šAfuri æŸšå­æ‹‰éºµ / Maisen é’å±±è±¬æ’</div></li>
              <li class="timeline-item"><span class="timeline-time">13:30</span><div class="timeline-content">è¡¨åƒé“ â†’ ä»£ä»£æœ¨ä¸ŠåŸï¼ˆåƒä»£ç”°ï¼‰â†’ å°ç”°æ€¥è‡³ä¸‹åŒ—æ¾¤ï¼ˆç´„ 20 åˆ†ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">14:00â€“17:00</span><div class="timeline-content">æ±æ´‹ç™¾è²¨åº—ã€MIKAN Shimokitaã€å··å¼„å¤è‘—ï¼‹å’–å•¡</div></li>
              <li class="timeline-item"><span class="timeline-time">18:00</span><div class="timeline-content">æ™šé¤ï¼ˆå’–å“©ï¼å±…é…’å±‹ï¼‰å¾Œè¿”å›æ–°å®¿</div></li>
            </ul>
          </div>
        </div>

        <div class="day">
          <h3>Day 6ï½œ11/20ï¼ˆå››ï¼‰å…­æœ¬æœ¨è—è¡“æ—¥ â†’ æ‰“åŒ…æ•´ç†</h3>
          <div class="card">
            <ul class="timeline">
              <li class="timeline-item"><span class="timeline-time">09:30</span><div class="timeline-content">æ–°å®¿ â†’ å…­æœ¬æœ¨ï¼ˆéƒ½ç‡Ÿå¤§æ±Ÿæˆ¶ç·šï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">10:00â€“12:00</span><div class="timeline-content">æ£®ç¾è¡“é¤¨ï¼‹Tokyo City Viewï¼‹æ¯›åˆ©åº­åœ’</div></li>
              <li class="timeline-item"><span class="timeline-time">12:00â€“13:00</span><div class="timeline-content">åˆé¤ï¼šEggcellent CafÃ© / TUSK CafÃ©</div></li>
              <li class="timeline-item"><span class="timeline-time">ä¸‹åˆ</span><div class="timeline-content">æ–°å®¿è‡ªç”±è³¼ç‰©ï¼æ•´ç†è¡Œæï¼ˆCheck-out 11:00ï¼Œå¯æ´½å¯„æ”¾ï¼‰</div></li>
            </ul>
          </div>
        </div>

        <div class="day">
          <h3>Day 7ï½œ11/21ï¼ˆäº”ï¼‰æ–°å®¿ â†’ æˆç”° T2 â†’ CI101ï¼ˆ14:35 èµ·é£›ï¼‰</h3>
          <div class="card">
            <ul class="timeline">
              <li class="timeline-item"><span class="timeline-time">12:15â€“12:35</span><div class="timeline-content">ç›®æ¨™æŠµé”æˆç”° T2ï¼ˆä¿ç•™ 2â€“3 å°æ™‚è¾¦ç†ç™»æ©Ÿèˆ‡å®‰æª¢ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">æ–¹æ¡ˆ A</span><div class="timeline-content">N'EX æˆç”°ç‰¹å¿«ï¼šæ–°å®¿ç›´é” T2ï¼ˆç´„ 1h20ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">æ–¹æ¡ˆ B</span><div class="timeline-content">Skylinerï¼šæ–°å®¿ â†’ æ—¥æš®é‡Œ â†’ Skyliner è‡³ T2ï¼ˆç´„ 1h05â€“1h15ï¼Œéœ€è½‰ä¹˜ï¼‰</div></li>
              <li class="timeline-item"><span class="timeline-time">æ–¹æ¡ˆ C</span><div class="timeline-content">æ©Ÿå ´å·´å£«ï¼šBusta æ–°å®¿ â†’ T2ï¼ˆç´„ 90â€“120 åˆ†ï¼Œè¦–è»Šæ³ï¼‰</div></li>
            </ul>
            <p class="note">Busta æ–°å®¿è· Blossom ç´„æ­¥è¡Œ 3 åˆ†é˜ï¼›æ—ºå­£æˆ–å£…å¡æ™‚è«‹é ç•™æ›´å¤§ç·©è¡ã€‚</p>
          </div>
        </div>
      </div>
    </section>

    <section id="food">
      <h2>ğŸ± é¤é£²å£è¢‹åå–®</h2>
      <div class="two-column-grid">
        <div class="card"><h3>æŠ¼ä¸Šï¼æ·ºè‰</h3><p>Solamachiï¼šå…­å˜èˆï¼ˆæ²¾éºµï¼‰ã€é°»é­šã€å®šé£Ÿï¼›æ·ºè‰ä»ŠåŠã€å¤§é»‘å®¶å¤©ä¸¼ï¼›ä»²è¦‹ä¸–ç”œé»ã€‚</p></div>
        <div class="card"><h3>ä¸Šé‡ï¼ç§‹è‘‰åŸï¼éŠ€åº§</h3><p>ä¸Šé‡é°»é­šï¼è±¬æ’ï¼›ç§‹è‘‰åŸç”œé»å’–å•¡ï¼æ‹‰éºµï¼›éŠ€åº§å£½å¸å§èˆ‡å±…é…’å±‹ï¼ˆGINZA SIX é¤å»³æ¨“å±¤ï¼‰ã€‚</p></div>
        <div class="card"><h3>éŒå€‰</h3><p>Bills ä¸ƒé‡Œæ¿±ï¼ˆæµ·æ™¯æ—©åˆé¤ï¼‰ã€é‡œé£¯ï¼è•éº¥ã€æŠ¹èŒ¶ç”œé»ã€‚</p></div>
        <div class="card"><h3>æ–°å®¿</h3><p>æ€å‡ºæ©«ä¸ç‡’é³¥ã€é¢¨é›²å…æ‹‰éºµã€ç‡’è‚‰ãƒ©ã‚¤ã‚¯ï¼›ç™¾è²¨ B1 å¤–å¸¶å›é£¯åº—ã€‚</p></div>
        <div class="card"><h3>è¡¨åƒé“ï¼ä¸‹åŒ—æ¾¤</h3><p>Afuriã€Maisenã€Blue Bottleã€Koffee Mameyaï¼›ä¸‹åŒ—æ¾¤å’–å“©èˆ‡å°é…’é¤¨ã€‚</p></div>
        <div class="card"><h3>å…­æœ¬æœ¨</h3><p>Eggcellent CafÃ©ã€TUSK CafÃ©ï¼›æ™šé–“å¯åŠ ç¢¼æ±äº¬éµå¡”ä¸‹é¤å»³è¡—ã€‚</p></div>
      </div>
    </section>

    <section id="notes">
      <h2>ğŸ“ å‚™è¨»èˆ‡é›¨å‚™</h2>
      <div class="card">
        <ul class="note-list">
          <li>é›¨å¤©æ”¹é€›ï¼šä¸Šé‡ï¼ˆåœ‹åšï¼ç§‘åšï¼‰ã€å…­æœ¬æœ¨ï¼ˆæ£®ï¼Suntoryï¼åœ‹ç«‹æ–°ç¾è¡“é¤¨ï¼‰ã€å°å ´è³¼ç‰©ä¸­å¿ƒã€æ™´ç©ºå¡”å•†å ´ã€‚</li>
          <li>åœ°éµå‡ºå£å¤šï¼šè«‹æ³¨æ„å°èˆªæŒ‡å®šå‡ºå£ï¼ˆB3ã€A1 ç­‰ï¼‰ã€‚</li>
          <li>11 æœˆå¤œæ™šåå†·ï¼šå¸¶è–„ç¾½çµ¨ï¼é˜²é¢¨å¤–å¥—ï¼‹åœå·¾ã€æš–æš–åŒ…ã€‚</li>
          <li>äº¤é€šå°–å³°ï¼šå¹³æ—¥ 8â€“9ã€17â€“19 é»æ“æ“ ï¼Œç›¡é‡éŒ¯å³°ã€‚</li>
          <li>è¡Œæå»ºè­°ï¼šDay3 éŒå€‰æ—¥å¯ç”¨å®…é…ï¼ˆæŠ¼ä¸Š â†’ æ–°å®¿ï¼‰æ¸›è¼•è² æ“”ã€‚</li>
        </ul>
      </div>
    </section>
  </div>

  <script>
    (function () {
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      let storedTheme = null;
      try {
        storedTheme = localStorage.getItem('tokyo-trip-theme');
      } catch (error) {
        console.warn('Theme preference unavailable', error);
      }
      const initialTheme = storedTheme || (prefersDark ? 'dark' : 'light');
      const root = document.documentElement;
      const toggleBtn = document.getElementById('themeToggle');
      if (!toggleBtn) {
        root.dataset.theme = initialTheme;
        return;
      }

      const toggleText = toggleBtn.querySelector('.toggle-text');

      function applyTheme(theme) {
        const isDark = theme === 'dark';
        root.dataset.theme = theme;
        if (toggleText) {
          toggleText.textContent = isDark ? 'é»‘åº•' : 'ç™½åº•';
        }
        toggleBtn.setAttribute('aria-pressed', String(isDark));
      }

      applyTheme(initialTheme);

      toggleBtn.addEventListener('click', () => {
        const newTheme = root.dataset.theme === 'dark' ? 'light' : 'dark';
        try {
          localStorage.setItem('tokyo-trip-theme', newTheme);
        } catch (error) {
          console.warn('Unable to persist theme preference', error);
        }
        applyTheme(newTheme);
      });
    })();

    (function () {
      const rateEl = document.getElementById('exchangeRate');
      if (!rateEl) return;

      const RATE_SOURCES = [
        {
          url: 'https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/twd/jpy.json',
          resolve: (payload) => payload && payload.jpy
        },
        {
          url: 'https://api.exchangerate.host/latest?base=TWD&symbols=JPY',
          resolve: (payload) => payload && payload.rates && payload.rates.JPY
        },
        {
          url: 'https://open.er-api.com/v6/latest/TWD',
          resolve: (payload) => payload && payload.rates && payload.rates.JPY
        }
      ];

      let storage = null;
      try {
        storage = window.localStorage;
      } catch (error) {
        console.warn('Local storage unavailable for exchange rate cache', error);
      }

      const CACHE_KEY = 'tokyo-trip-exchange-rate';
      const CACHE_TTL = 12 * 60 * 60 * 1000; // 12 å°æ™‚
      const FETCH_TIMEOUT = 10 * 1000;

      const numberFormatter = new Intl.NumberFormat('zh-Hant', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      });
      const timeFormatter = new Intl.DateTimeFormat('zh-Hant', {
        hour: '2-digit',
        minute: '2-digit',
        hour12: false,
        timeZone: 'Asia/Taipei'
      });

      function readCachedRate() {
        try {
          if (!storage) return null;
          const cachedRaw = storage.getItem(CACHE_KEY);
          if (!cachedRaw) return null;
          const cached = JSON.parse(cachedRaw);
          if (!cached || typeof cached.rate !== 'number' || typeof cached.timestamp !== 'number') {
            return null;
          }
          return cached;
        } catch (error) {
          console.warn('Failed to read cached exchange rate', error);
          return null;
        }
      }

      function writeCachedRate(rate) {
        try {
          const payload = JSON.stringify({ rate, timestamp: Date.now() });
          if (!storage) return;
          storage.setItem(CACHE_KEY, payload);
        } catch (error) {
          console.warn('Failed to cache exchange rate', error);
        }
      }

      function renderRate(rate, timestamp, { isFallback = false } = {}) {
        const formattedRate = numberFormatter.format(rate);
        const formattedTime = timeFormatter.format(new Date(timestamp));
        const fallbackLabel = isFallback ? 'ï¼ˆå‰æ¬¡è³‡æ–™ï¼‰' : '';
        rateEl.innerHTML = `<span>1 TWD â‰ˆ <strong>${formattedRate}</strong> JPY</span><span class="rate-updated">${fallbackLabel}æ›´æ–° ${formattedTime}</span>`;
        rateEl.setAttribute('title', `æ›´æ–°æ™‚é–“ï¼ˆå°åŒ—ï¼‰ï¼š${formattedTime}${isFallback ? 'ï¼ˆå‰æ¬¡è³‡æ–™ï¼‰' : ''}`);
      }

      function withTimeout(promise, timeout) {
        const controller = new AbortController();
        const timer = setTimeout(() => controller.abort(), timeout);
        return Promise.resolve(promise(controller.signal)).finally(() => clearTimeout(timer));
      }

      async function fetchRateWithFallback() {
        for (const source of RATE_SOURCES) {
          try {
            const response = await withTimeout(
              (signal) => fetch(source.url, { cache: 'no-store', signal }),
              FETCH_TIMEOUT
            );
            if (!response.ok) {
              throw new Error(`HTTP ${response.status}`);
            }
            const payload = await response.json();
            const rate = source.resolve(payload);
            if (typeof rate === 'number' && Number.isFinite(rate)) {
              return rate;
            }
            throw new Error('Unexpected payload structure');
          } catch (error) {
            if (error && error.name === 'AbortError') {
              console.warn('Exchange rate source timed out', source.url);
            } else {
              console.warn('Exchange rate source failed', source.url, error);
            }
          }
        }
        throw new Error('All exchange rate sources failed');
      }

      async function updateRate() {
        try {
          const rate = await fetchRateWithFallback();
          writeCachedRate(rate);
          renderRate(rate, Date.now());
        } catch (error) {
          console.error('Failed to fetch exchange rate', error);
          const cached = readCachedRate();
          if (cached && Date.now() - cached.timestamp <= CACHE_TTL) {
            renderRate(cached.rate, cached.timestamp, { isFallback: true });
          } else {
            rateEl.textContent = 'åŒ¯ç‡æš«æ™‚ç„¡æ³•å–å¾—';
            rateEl.removeAttribute('title');
          }
        }
      }

      const cachedInitial = readCachedRate();
      if (cachedInitial) {
        renderRate(cachedInitial.rate, cachedInitial.timestamp, { isFallback: Date.now() - cachedInitial.timestamp > CACHE_TTL });
      }

      updateRate();
      setInterval(updateRate, 30 * 60 * 1000);
    })();
  </script>
</body>
</html>
